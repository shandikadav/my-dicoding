!function o(r,i,s){function a(t,e){if(!i[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=i[t]={exports:{}},r[t][0].call(n.exports,function(e){return a(r[t][1][e]||e)},n,n.exports,o,r,i,s)}return i[t].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){"use strict";var o;o=function(){var o,r=Object.hasOwnProperty,i=Object.setPrototypeOf,s=Object.isFrozen,a=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,Se=Object.freeze,e=Object.seal,l=Object.create,t="undefined"!=typeof Reflect&&Reflect,u=(u=t.apply)||function(e,t,n){return e.apply(t,n)},Se=Se||function(e){return e},e=e||function(e){return e},d=(d=t.construct)||function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))},Oe=h(Array.prototype.forEach),xe=h(Array.prototype.pop),Me=h(Array.prototype.push),Ce=h(String.prototype.toLowerCase),je=h(String.prototype.match),Be=h(String.prototype.replace),Ie=h(String.prototype.indexOf),Xe=h(String.prototype.trim),Pe=h(RegExp.prototype.test),De=(o=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(o,t)});function h(r){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return u(r,e,n)}}function Ne(e,t){i&&i(e,null);for(var n=t.length;n--;){var o,r=t[n];"string"!=typeof r||(o=Ce(r))!==r&&(s(t)||(t[n]=o),r=o),e[r]=!0}return e}function Fe(e){var t=l(null),n=void 0;for(n in e)u(r,e,[n])&&(t[n]=e[n]);return t}function Re(e,t){for(;null!==e;){var n=c(e,t);if(n){if(n.get)return h(n.get);if("function"==typeof n.value)return h(n.value)}e=a(e)}return null}var $e=Se(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ue=Se(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ze=Se(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ye=Se(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),We=Se(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ze=Se(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ke=Se(["#text"]),qe=Se(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),He=Se(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ve=Se(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ge=Se(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),et=e(/\{\{[\s\S]*|[\s\S]*\}\}/gm),tt=e(/<%[\s\S]*|[\s\S]*%>/gm),nt=e(/^data-[\-\w.\u00B7-\uFFFF]/),ot=e(/^aria-[\-\w]+$/),rt=e(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),it=e(/^(?:\w+script|data):/i),st=e(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Qe(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}return function D(e){var a=0<arguments.length&&void 0!==e?e:"undefined"==typeof window?null:window,l=function(e){return D(e)};if(l.version="2.2.6",l.removed=[],a&&a.document&&9===a.document.nodeType){var c=a.document,i=a.document,N=a.DocumentFragment,e=a.HTMLTemplateElement,u=a.Node,F=a.Element,t=a.NodeFilter,R=void 0===(n=a.NamedNodeMap)?a.NamedNodeMap||a.MozNamedAttrMap:n,$=a.Text,U=a.Comment,z=a.DOMParser,n=a.trustedTypes,W=Re(o=F.prototype,"cloneNode"),K=Re(o,"nextSibling"),q=Re(o,"childNodes"),H=Re(o,"parentNode"),d=("function"==typeof e&&(o=i.createElement("template")).content&&o.content.ownerDocument&&(i=o.content.ownerDocument),function(e,t){if("object"!==(void 0===e?"undefined":Je(e))||"function"!=typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix",t="dompurify"+((n=t.currentScript&&t.currentScript.hasAttribute(o)?t.currentScript.getAttribute(o):n)?"#"+n:"");try{return e.createPolicy(t,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}}(n,c)),V=d&&L?d.createHTML(""):"",e=i,s=e.implementation,G=e.createNodeIterator,J=e.getElementsByTagName,Q=e.createDocumentFragment,X=c.importNode,o={};try{o=Fe(i).documentMode?i.documentMode:{}}catch(e){}var r={},h=(l.isSupported=s&&void 0!==s.createHTMLDocument&&9!==o,et),m=tt,Y=nt,Z=ot,ee=it,te=st,p=rt,f=null,ne=Ne({},[].concat(Qe($e),Qe(Ue),Qe(ze),Qe(We),Qe(Ke))),g=null,oe=Ne({},[].concat(Qe(qe),Qe(He),Qe(Ve),Qe(Ge))),y=null,re=null,ie=!0,b=!0,se=!1,v=!1,w=!1,k=!1,_=!1,E=!1,A=!1,ae=!0,L=!1,ce=!0,T=!0,S=!1,O={},le=Ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ue=null,de=Ne({},["audio","video","img","source","image","track"]),x=null,he=Ne({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),M=null,me=i.createElement("form"),C=function(e){M&&M===e||(e=Fe(e=e&&"object"===(void 0===e?"undefined":Je(e))?e:{}),f="ALLOWED_TAGS"in e?Ne({},e.ALLOWED_TAGS):ne,g="ALLOWED_ATTR"in e?Ne({},e.ALLOWED_ATTR):oe,x="ADD_URI_SAFE_ATTR"in e?Ne(Fe(he),e.ADD_URI_SAFE_ATTR):he,ue="ADD_DATA_URI_TAGS"in e?Ne(Fe(de),e.ADD_DATA_URI_TAGS):de,y="FORBID_TAGS"in e?Ne({},e.FORBID_TAGS):{},re="FORBID_ATTR"in e?Ne({},e.FORBID_ATTR):{},O="USE_PROFILES"in e&&e.USE_PROFILES,ie=!1!==e.ALLOW_ARIA_ATTR,b=!1!==e.ALLOW_DATA_ATTR,se=e.ALLOW_UNKNOWN_PROTOCOLS||!1,v=e.SAFE_FOR_TEMPLATES||!1,w=e.WHOLE_DOCUMENT||!1,E=e.RETURN_DOM||!1,A=e.RETURN_DOM_FRAGMENT||!1,ae=!1!==e.RETURN_DOM_IMPORT,L=e.RETURN_TRUSTED_TYPE||!1,_=e.FORCE_BODY||!1,ce=!1!==e.SANITIZE_DOM,T=!1!==e.KEEP_CONTENT,S=e.IN_PLACE||!1,p=e.ALLOWED_URI_REGEXP||p,v&&(b=!1),A&&(E=!0),O&&(f=Ne({},[].concat(Qe(Ke))),g=[],!0===O.html&&(Ne(f,$e),Ne(g,qe)),!0===O.svg&&(Ne(f,Ue),Ne(g,He),Ne(g,Ge)),!0===O.svgFilters&&(Ne(f,ze),Ne(g,He),Ne(g,Ge)),!0===O.mathMl&&(Ne(f,We),Ne(g,Ve),Ne(g,Ge))),e.ADD_TAGS&&Ne(f=f===ne?Fe(f):f,e.ADD_TAGS),e.ADD_ATTR&&Ne(g=g===oe?Fe(g):g,e.ADD_ATTR),e.ADD_URI_SAFE_ATTR&&Ne(x,e.ADD_URI_SAFE_ATTR),T&&(f["#text"]=!0),w&&Ne(f,["html","head","body"]),f.table&&(Ne(f,["tbody"]),delete y.tbody),Se&&Se(e),M=e)},pe=Ne({},["mi","mo","mn","ms","mtext"]),fe=Ne({},["foreignobject","desc","title","annotation-xml"]),j=Ne({},Ue),ge=(Ne(j,ze),Ne(j,Ye),Ne({},We)),ye=(Ne(ge,Ze),"http://www.w3.org/1998/Math/MathML"),be="http://www.w3.org/2000/svg",B="http://www.w3.org/1999/xhtml",ve=function(t){Me(l.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=V}catch(e){t.remove()}}},we=function(e,t){try{Me(l.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Me(l.removed,{attribute:null,from:t})}t.removeAttribute(e)},ke=function(e){var t,n=void 0,o=void 0,r=(_?e="<remove></remove>"+e:o=(r=je(e,/^[\r\n\t ]+/))&&r[0],d?d.createHTML(e):e);try{n=(new z).parseFromString(r,"text/html")}catch(e){}return n&&n.documentElement||((t=(n=s.createHTMLDocument("")).body).parentNode.removeChild(t.parentNode.firstElementChild),t.outerHTML=r),e&&o&&n.body.insertBefore(i.createTextNode(o),n.body.childNodes[0]||null),J.call(n,w?"html":"body")[0]},_e=function(e){return G.call(e.ownerDocument||e,e,t.SHOW_ELEMENT|t.SHOW_COMMENT|t.SHOW_TEXT,function(){return t.FILTER_ACCEPT},!1)},I=function(e){return"object"===(void 0===u?"undefined":Je(u))?e instanceof u:e&&"object"===(void 0===e?"undefined":Je(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},P=function(e,t,n){r[e]&&Oe(r[e],function(e){e.call(l,t,n,M)})},Ee=function(e){if(P("beforeSanitizeElements",e,null),((i=e)instanceof $||i instanceof U||"string"==typeof i.nodeName&&"string"==typeof i.textContent&&"function"==typeof i.removeChild&&i.attributes instanceof R&&"function"==typeof i.removeAttribute&&"function"==typeof i.setAttribute&&"string"==typeof i.namespaceURI&&"function"==typeof i.insertBefore)&&!je(e.nodeName,/[\u0080-\uFFFF]/)){var t,n,o,r,i=Ce(e.nodeName);if(P("uponSanitizeElement",e,{tagName:i,allowedTags:f}),I(e.firstElementChild)||I(e.content)&&I(e.content.firstElementChild)||!Pe(/<[/\w]/g,e.innerHTML)||!Pe(/<[/\w]/g,e.textContent)){if(f[i]&&!y[i])return e instanceof F&&((n=H(t=e))&&n.tagName||(n={namespaceURI:B,tagName:"template"}),o=Ce(t.tagName),r=Ce(n.tagName),t.namespaceURI===be?n.namespaceURI===B?"svg"!==o:n.namespaceURI===ye?"svg"!==o||"annotation-xml"!==r&&!pe[r]:!Boolean(j[o]):t.namespaceURI===ye?n.namespaceURI===B?"math"!==o:n.namespaceURI===be?"math"!==o||!fe[r]:!Boolean(ge[o]):t.namespaceURI!==B||n.namespaceURI===be&&!fe[r]||n.namespaceURI===ye&&!pe[r]||(t=Ne({},["title","style","font","a","script"]),ge[o]||!t[o]&&j[o]))||("noscript"===i||"noembed"===i)&&Pe(/<\/no(script|embed)/i,e.innerHTML)?(ve(e),!0):(v&&3===e.nodeType&&(n=e.textContent,n=Be(n,h," "),n=Be(n,m," "),e.textContent!==n&&(Me(l.removed,{element:e.cloneNode()}),e.textContent=n)),P("afterSanitizeElements",e,null),!1);if(T&&!le[i])for(var s=H(e),a=q(e),c=a.length-1;0<=c;--c)s.insertBefore(W(a[c],!0),K(e))}}return ve(e),!0},Ae=function(e,t,n){if(ce&&("id"===t||"name"===t)&&(n in i||n in me))return!1;if(!(b&&Pe(Y,t)||ie&&Pe(Z,t))){if(!g[t]||re[t])return!1;if(!x[t]&&!Pe(p,Be(n,te,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ie(n,"data:")||!ue[e])&&(!se||Pe(ee,Be(n,te,"")))&&n)return!1}return!0},Le=function(e){var t=void 0,n=void 0,o=(P("beforeSanitizeAttributes",e,null),e.attributes);if(o){for(var r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:g},n=o.length;n--;){var i=(a=o[n]).name,s=a.namespaceURI,t=Xe(a.value),a=Ce(i);if(r.attrName=a,r.attrValue=t,r.keepAttr=!0,r.forceKeepAttr=void 0,P("uponSanitizeAttribute",e,r),t=r.attrValue,!r.forceKeepAttr&&(we(i,e),r.keepAttr))if(Pe(/\/>/i,t))we(i,e);else{v&&(t=Be(t,h," "),t=Be(t,m," "));var c=e.nodeName.toLowerCase();if(Ae(c,a,t))try{s?e.setAttributeNS(s,i,t):e.setAttribute(i,t),xe(l.removed)}catch(e){}}}P("afterSanitizeAttributes",e,null)}},Te=function e(t){var n,o=_e(t);for(P("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)P("uponSanitizeShadowNode",n,null),Ee(n)||(n.content instanceof N&&e(n.content),Le(n));P("afterSanitizeShadowDOM",t,null)};l.sanitize=function(e,t){var n,o=void 0,r=void 0,i=void 0;if("string"!=typeof(e=e||"\x3c!--\x3e")&&!I(e)){if("function"!=typeof e.toString)throw De("toString is not a function");if("string"!=typeof(e=e.toString()))throw De("dirty is not a string, aborting")}if(!l.isSupported){if("object"===Je(a.toStaticHTML)||"function"==typeof a.toStaticHTML){if("string"==typeof e)return a.toStaticHTML(e);if(I(e))return a.toStaticHTML(e.outerHTML)}return e}if(k||C(t),l.removed=[],!(S="string"!=typeof e&&S))if(e instanceof u)1===(t=(o=ke("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===t.nodeName||"HTML"===t.nodeName?o=t:o.appendChild(t);else{if(!E&&!v&&!w&&-1===e.indexOf("<"))return d&&L?d.createHTML(e):e;if(!(o=ke(e)))return E?null:V}o&&_&&ve(o.firstChild);for(var s=_e(S?e:o);n=s.nextNode();)3===n.nodeType&&n===r||Ee(n)||(n.content instanceof N&&Te(n.content),Le(n),r=n);if(r=null,S)return e;if(E){if(A)for(i=Q.call(o.ownerDocument);o.firstChild;)i.appendChild(o.firstChild);else i=o;return i=ae?X.call(c,i,!0):i}return t=w?o.outerHTML:o.innerHTML,v&&(t=Be(t,h," "),t=Be(t,m," ")),d&&L?d.createHTML(t):t},l.setConfig=function(e){C(e),k=!0},l.clearConfig=function(){M=null,k=!1},l.isValidAttribute=function(e,t,n){return M||C({}),e=Ce(e),t=Ce(t),Ae(e,t,n)},l.addHook=function(e,t){"function"==typeof t&&(r[e]=r[e]||[],Me(r[e],t))},l.removeHook=function(e){r[e]&&xe(r[e])},l.removeHooks=function(e){r[e]&&(r[e]=[])},l.removeAllHooks=function(){r={}}}else l.isSupported=!1;return l}()},"object"==typeof n&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):self.DOMPurify=o()},{}],2:[function(e,t,n){"use strict";e=e("./_root").Symbol;t.exports=e},{"./_root":8}],3:[function(e,t,n){"use strict";var o=e("./_Symbol"),r=e("./_getRawTag"),i=e("./_objectToString"),s=o?o.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(s&&s in Object(e)?r:i)(e)}},{"./_Symbol":2,"./_getRawTag":6,"./_objectToString":7}],4:[function(e,t,n){"use strict";var o=e("./_trimmedEndIndex"),r=/^\s+/;t.exports=function(e){return e&&e.slice(0,o(e)+1).replace(r,"")}},{"./_trimmedEndIndex":9}],5:[function(e,n,t){!function(t){!function(){"use strict";var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){"use strict";var e=e("./_Symbol"),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=e?e.toStringTag:void 0;t.exports=function(e){var t=i.call(e,a),n=e[a];try{var o=!(e[a]=void 0)}catch(e){}var r=s.call(e);return o&&(t?e[a]=n:delete e[a]),r}},{"./_Symbol":2}],7:[function(e,t,n){"use strict";var o=Object.prototype.toString;t.exports=function(e){return o.call(e)}},{}],8:[function(e,t,n){"use strict";var e=e("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,e=e||o||Function("return this")();t.exports=e},{"./_freeGlobal":5}],9:[function(e,t,n){"use strict";var o=/\s/;t.exports=function(e){for(var t=e.length;t--&&o.test(e.charAt(t)););return t}},{}],10:[function(e,t,n){"use strict";var b=e("./isObject"),v=e("./now"),w=e("./toNumber"),k=Math.max,_=Math.min;t.exports=function(o,n,e){var r,i,s,a,c,l,u=0,d=!1,h=!1,t=!0;if("function"!=typeof o)throw new TypeError("Expected a function");function m(e){var t=r,n=i;return r=i=void 0,u=e,a=o.apply(n,t)}function p(e){var t=e-l;return void 0===l||n<=t||t<0||h&&s<=e-u}function f(){var e,t=v();if(p(t))return g(t);c=setTimeout(f,(e=n-((t=t)-l),h?_(e,s-(t-u)):e))}function g(e){return c=void 0,t&&r?m(e):(r=i=void 0,a)}function y(){var e=v(),t=p(e);if(r=arguments,i=this,l=e,t){if(void 0===c)return u=e=l,c=setTimeout(f,n),d?m(e):a;if(h)return clearTimeout(c),c=setTimeout(f,n),m(l)}return void 0===c&&(c=setTimeout(f,n)),a}return n=w(n)||0,b(e)&&(d=!!e.leading,h="maxWait"in e,s=h?k(w(e.maxWait)||0,n):s,t="trailing"in e?!!e.trailing:t),y.cancel=function(){void 0!==c&&clearTimeout(c),r=l=i=c=void(u=0)},y.flush=function(){return void 0===c?a:g(v())},y}},{"./isObject":11,"./now":14,"./toNumber":15}],11:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},{}],12:[function(e,t,n){"use strict";t.exports=function(e){return null!=e&&"object"==typeof e}},{}],13:[function(e,t,n){"use strict";var o=e("./_baseGetTag"),r=e("./isObjectLike");t.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==o(e)}},{"./_baseGetTag":3,"./isObjectLike":12}],14:[function(e,t,n){"use strict";var o=e("./_root");t.exports=function(){return o.Date.now()}},{"./_root":8}],15:[function(e,t,n){"use strict";var o=e("./_baseTrim"),r=e("./isObject"),i=e("./isSymbol"),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=r(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=o(e);var t=a.test(e);return t||c.test(e)?l(e.slice(2),t?2:8):s.test(e)?NaN:+e}},{"./_baseTrim":4,"./isObject":11,"./isSymbol":13}],16:[function(e,t,n){"use strict";var o;o=function(e){t.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,!1)},t.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,!1)},t.prototype.bindingConnected=function(e){this.unorderedBindings.add(e)},t.prototype.bindingDisconnected=function(e){this.unorderedBindings.delete(e)},t.prototype.handleEvent=function(e){for(var t=function(e){{var t;return"immediatePropagationStopped"in e?e:(t=e.stopImmediatePropagation,Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,t.call(this)}}))}}(e),n=0,o=this.bindings;n<o.length;n++){var r=o[n];if(t.immediatePropagationStopped)break;r.handleEvent(t)}},Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort(function(e,t){e=e.index,t=t.index;return e<t?-1:t<e?1:0})},enumerable:!0,configurable:!0});var n=t;function t(e,t){this.eventTarget=e,this.eventName=t,this.unorderedBindings=new Set}r.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach(function(e){return e.connect()}))},r.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach(function(e){return e.disconnect()}))},Object.defineProperty(r.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce(function(e,t){return e.concat(Array.from(t.values()))},[])},enumerable:!0,configurable:!0}),r.prototype.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},r.prototype.bindingDisconnected=function(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)},r.prototype.handleError=function(e,t,n){this.application.handleError(e,"Error "+t,n=void 0===n?{}:n)},r.prototype.fetchEventListenerForBinding=function(e){var t=e.eventTarget,e=e.eventName;return this.fetchEventListener(t,e)},r.prototype.fetchEventListener=function(e,t){var n=this.fetchEventListenerMapForEventTarget(e),o=n.get(t);return o||(o=this.createEventListener(e,t),n.set(t,o)),o},r.prototype.createEventListener=function(e,t){e=new n(e,t);return this.started&&e.connect(),e},r.prototype.fetchEventListenerMapForEventTarget=function(e){var t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t};var o=r;function r(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}var D=/^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;function N(e){var t,e=e.trim().match(D)||[];return{eventTarget:"window"==(t=e[4])?window:"document"==t?document:void 0,eventName:e[2],identifier:e[5],methodName:e[7]}}i.forToken=function(e){return new this(e.element,e.index,N(e.content))},i.prototype.toString=function(){var e=this.eventTargetName?"@"+this.eventTargetName:"";return this.eventName+e+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(i.prototype,"eventTargetName",{get:function(){return(e=this.eventTarget)==window?"window":e==document?"document":void 0;var e},enumerable:!0,configurable:!0});var F=i;function i(e,t,n){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||function(e){var t=e.tagName.toLowerCase();if(t in s)return s[t](e)}(e)||a("missing event name"),this.identifier=n.identifier||a("missing identifier"),this.methodName=n.methodName||a("missing method name")}var s={a:function(e){return"click"},button:function(e){return"click"},form:function(e){return"submit"},input:function(e){return"submit"==e.getAttribute("type")?"click":"change"},select:function(e){return"change"},textarea:function(e){return"change"}};function a(e){throw new Error(e)}Object.defineProperty(c.prototype,"index",{get:function(){return this.action.index},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),c.prototype.handleEvent=function(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)},Object.defineProperty(c.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"method",{get:function(){var e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!0,configurable:!0}),c.prototype.invokeWithEvent=function(t){try{this.method.call(this.controller,t)}catch(e){var n=this.identifier,o=this.controller,r=this.element,i=this.index;this.context.handleError(e,'invoking action "'+this.action+'"',{identifier:n,controller:o,element:r,index:i,event:t})}},c.prototype.willBeInvokedByEvent=function(e){e=e.target;return this.element===e||(!(e instanceof Element&&this.element.contains(e))||this.scope.containsElement(e))},Object.defineProperty(c.prototype,"controller",{get:function(){return this.context.controller},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0});var R=c;function c(e,t){this.context=e,this.action=t}l.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},l.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},l.prototype.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),t=0,n=Array.from(this.elements);t<n.length;t++){var o=n[t];e.has(o)||this.removeElement(o)}for(var r=0,i=Array.from(e);r<i.length;r++){o=i[r];this.addElement(o)}}},l.prototype.processMutations=function(e){if(this.started)for(var t=0,n=e;t<n.length;t++){var o=n[t];this.processMutation(o)}},l.prototype.processMutation=function(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},l.prototype.processAttributeChange=function(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)},l.prototype.processRemovedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var o=n[t],o=this.elementFromNode(o);o&&this.processTree(o,this.removeElement)}},l.prototype.processAddedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var o=n[t],o=this.elementFromNode(o);o&&this.elementIsActive(o)&&this.processTree(o,this.addElement)}},l.prototype.matchElement=function(e){return this.delegate.matchElement(e)},l.prototype.matchElementsInTree=function(e){return void 0===e&&(e=this.element),this.delegate.matchElementsInTree(e)},l.prototype.processTree=function(e,t){for(var n=0,o=this.matchElementsInTree(e);n<o.length;n++){var r=o[n];t.call(this,r)}},l.prototype.elementFromNode=function(e){if(e.nodeType==Node.ELEMENT_NODE)return e},l.prototype.elementIsActive=function(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)},l.prototype.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},l.prototype.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))};var $=l;function l(e,t){var n=this;this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(function(e){return n.processMutations(e)})}Object.defineProperty(u.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!0,configurable:!0}),u.prototype.start=function(){this.elementObserver.start()},u.prototype.stop=function(){this.elementObserver.stop()},u.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(u.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!0,configurable:!0}),u.prototype.matchElement=function(e){return e.hasAttribute(this.attributeName)},u.prototype.matchElementsInTree=function(e){var t=this.matchElement(e)?[e]:[],e=Array.from(e.querySelectorAll(this.selector));return t.concat(e)},u.prototype.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},u.prototype.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},u.prototype.elementAttributeChanged=function(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)};var U=u;function u(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new $(e,this)}function d(e,t,n){m(e,t).add(n)}function h(e,t,n){m(e,t).delete(n),n=t,null!=(e=(t=e).get(n))&&0==e.size&&t.delete(n)}function m(e,t){var n=e.get(t);return n||(n=new Set,e.set(t,n)),n}Object.defineProperty(f.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce(function(e,t){return e.concat(Array.from(t))},[])},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce(function(e,t){return e+t.size},0)},enumerable:!0,configurable:!0}),f.prototype.add=function(e,t){d(this.valuesByKey,e,t)},f.prototype.delete=function(e,t){h(this.valuesByKey,e,t)},f.prototype.has=function(e,t){e=this.valuesByKey.get(e);return null!=e&&e.has(t)},f.prototype.hasKey=function(e){return this.valuesByKey.has(e)},f.prototype.hasValue=function(t){return Array.from(this.valuesByKey.values()).some(function(e){return e.has(t)})},f.prototype.getValuesForKey=function(e){e=this.valuesByKey.get(e);return e?Array.from(e):[]},f.prototype.getKeysForValue=function(t){return Array.from(this.valuesByKey).filter(function(e){e[0];return e[1].has(t)}).map(function(e){var t=e[0];e[1];return t})};var p=f;function f(){this.valuesByKey=new Map}g=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])});var g,y;(function(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(b,y=p),Object.defineProperty(b.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!0,configurable:!0}),b.prototype.add=function(e,t){y.prototype.add.call(this,e,t),d(this.keysByValue,t,e)},b.prototype.delete=function(e,t){y.prototype.delete.call(this,e,t),h(this.keysByValue,t,e)},b.prototype.hasValue=function(e){return this.keysByValue.has(e)},b.prototype.getKeysForValue=function(e){e=this.keysByValue.get(e);return e?Array.from(e):[]};function b(){var e=y.call(this)||this;return e.keysByValue=new Map,e}Object.defineProperty(v.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!0,configurable:!0}),v.prototype.start=function(){this.attributeObserver.start()},v.prototype.stop=function(){this.attributeObserver.stop()},v.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(v.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!0,configurable:!0}),v.prototype.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},v.prototype.elementAttributeValueChanged=function(e){var e=this.refreshTokensForElement(e),t=e[0],e=e[1];this.tokensUnmatched(t),this.tokensMatched(e)},v.prototype.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},v.prototype.tokensMatched=function(e){var t=this;e.forEach(function(e){return t.tokenMatched(e)})},v.prototype.tokensUnmatched=function(e){var t=this;e.forEach(function(e){return t.tokenUnmatched(e)})},v.prototype.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},v.prototype.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)},v.prototype.refreshTokensForElement=function(e){var n,o,t=this.tokensByElement.getValuesForKey(e),e=this.readTokensForElement(e),r=(n=t,o=e,r=Math.max(n.length,o.length),Array.from({length:r},function(e,t){return[n[t],o[t]]}).findIndex(function(e){var t=e[0],e=e[1];return e=e,!((t=t)&&e&&t.index==e.index&&t.content==e.content)}));return-1==r?[[],[]]:[t.slice(r),e.slice(r)]},v.prototype.readTokensForElement=function(e){var n,o,t=this.attributeName,r=e.getAttribute(t)||"";return n=e,o=t,r.trim().split(/\s+/).filter(function(e){return e.length}).map(function(e,t){return{element:n,attributeName:o,content:e,index:t}})};var z=v;function v(e,t,n){this.attributeObserver=new U(e,t,this),this.delegate=n,this.tokensByElement=new p}Object.defineProperty(k.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!0,configurable:!0}),k.prototype.start=function(){this.tokenListObserver.start()},k.prototype.stop=function(){this.tokenListObserver.stop()},k.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(k.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!0,configurable:!0}),k.prototype.tokenMatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))},k.prototype.tokenUnmatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))},k.prototype.fetchParseResultForToken=function(e){var t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t},k.prototype.fetchValuesByTokenForElement=function(e){var t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t},k.prototype.parseToken=function(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(e){return{error:e}}};var w=k;function k(e,t,n){this.tokenListObserver=new z(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}_.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new w(this.element,this.actionAttribute,this),this.valueListObserver.start())},_.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(_.prototype,"element",{get:function(){return this.context.element},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"schema",{get:function(){return this.context.schema},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!0,configurable:!0}),_.prototype.connectAction=function(e){var t=new R(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)},_.prototype.disconnectAction=function(e){var t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))},_.prototype.disconnectAllActions=function(){var t=this;this.bindings.forEach(function(e){return t.delegate.bindingDisconnected(e)}),this.bindingsByAction.clear()},_.prototype.parseValueForToken=function(e){e=F.forToken(e);if(e.identifier==this.identifier)return e},_.prototype.elementMatchedValue=function(e,t){this.connectAction(t)},_.prototype.elementUnmatchedValue=function(e,t){this.disconnectAction(t)};var W=_;function _(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}A.prototype.connect=function(){this.bindingObserver.start();try{this.controller.connect()}catch(e){this.handleError(e,"connecting controller")}},A.prototype.disconnect=function(){try{this.controller.disconnect()}catch(e){this.handleError(e,"disconnecting controller")}this.bindingObserver.stop()},Object.defineProperty(A.prototype,"application",{get:function(){return this.module.application},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!0,configurable:!0}),A.prototype.handleError=function(e,t,n){void 0===n&&(n={});var o=this.identifier,r=this.controller,i=this.element;n=Object.assign({identifier:o,controller:r,element:i},n),this.application.handleError(e,"Error "+t,n)};var E=A;function A(e,t){this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new W(this,this.dispatcher);try{this.controller.initialize()}catch(e){this.handleError(e,"initializing controller")}}L=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])});var L,K=function(e,t){function n(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};function q(e){return{identifier:e.identifier,controllerConstructor:function(e){e=H(e);return e.bless(),e}(e.controllerConstructor)}}var H=function(){function e(t){function n(){var e=this&&this instanceof n?this.constructor:void 0;return Reflect.construct(t,arguments,e)}return n.prototype=Object.create(t.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,t),n}try{return(t=e(function(){this.a.call(this)})).prototype.a=function(){},new t,e}catch(e){return function(e){return K(t,n=e),t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}}var t}(),V=(Object.defineProperty(T.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!0,configurable:!0}),T.prototype.connectContextForScope=function(e){e=this.fetchContextForScope(e);this.connectedContexts.add(e),e.connect()},T.prototype.disconnectContextForScope=function(e){e=this.contextsByScope.get(e);e&&(this.connectedContexts.delete(e),e.disconnect())},T.prototype.fetchContextForScope=function(e){var t=this.contextsByScope.get(e);return t||(t=new E(this,e),this.contextsByScope.set(e,t)),t},T);function T(e,t){this.application=e,this.definition=q(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}Object.defineProperty(S.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),S.prototype.get=function(e){return e=this.getFormattedKey(e),this.element.getAttribute(e)},S.prototype.set=function(e,t){return e=this.getFormattedKey(e),this.element.setAttribute(e,t),this.get(e)},S.prototype.has=function(e){return e=this.getFormattedKey(e),this.element.hasAttribute(e)},S.prototype.delete=function(e){return!!this.has(e)&&(e=this.getFormattedKey(e),this.element.removeAttribute(e),!0)},S.prototype.getFormattedKey=function(e){return"data-"+this.identifier+"-"+e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})};var G=S;function S(e){this.scope=e}function O(e,t){return"["+e+'~="'+t+'"]'}Object.defineProperty(x.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!0,configurable:!0}),x.prototype.has=function(e){return null!=this.find(e)},x.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findElement(n)},x.prototype.findAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findAllElements(n)},x.prototype.getSelectorForTargetNames=function(e){var t=this;return e.map(function(e){return t.getSelectorForTargetName(e)}).join(", ")},x.prototype.getSelectorForTargetName=function(e){e=this.identifier+"."+e;return O(this.schema.targetAttribute,e)};var J=x;function x(e){this.scope=e}M.prototype.findElement=function(e){return this.findAllElements(e)[0]},M.prototype.findAllElements=function(e){var t=this.element.matches(e)?[this.element]:[],e=this.filterElements(Array.from(this.element.querySelectorAll(e)));return t.concat(e)},M.prototype.filterElements=function(e){var t=this;return e.filter(function(e){return t.containsElement(e)})},M.prototype.containsElement=function(e){return e.closest(this.controllerSelector)===this.element},Object.defineProperty(M.prototype,"controllerSelector",{get:function(){return O(this.schema.controllerAttribute,this.identifier)},enumerable:!0,configurable:!0});var Q=M;function M(e,t,n){this.schema=e,this.identifier=t,this.element=n,this.targets=new J(this),this.data=new G(this)}C.prototype.start=function(){this.valueListObserver.start()},C.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(C.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),C.prototype.parseValueForToken=function(e){var t=e.element,e=e.content,n=this.fetchScopesByIdentifierForElement(t),o=n.get(e);return o||(o=new Q(this.schema,e,t),n.set(e,o)),o},C.prototype.elementMatchedValue=function(e,t){var n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)},C.prototype.elementUnmatchedValue=function(e,t){var n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))},C.prototype.fetchScopesByIdentifierForElement=function(e){var t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t};var X=C;function C(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new w(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}Object.defineProperty(j.prototype,"element",{get:function(){return this.application.element},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"contexts",{get:function(){return this.modules.reduce(function(e,t){return e.concat(t.contexts)},[])},enumerable:!0,configurable:!0}),j.prototype.start=function(){this.scopeObserver.start()},j.prototype.stop=function(){this.scopeObserver.stop()},j.prototype.loadDefinition=function(e){this.unloadIdentifier(e.identifier);e=new V(this.application,e);this.connectModule(e)},j.prototype.unloadIdentifier=function(e){e=this.modulesByIdentifier.get(e);e&&this.disconnectModule(e)},j.prototype.getContextForElementAndIdentifier=function(t,e){e=this.modulesByIdentifier.get(e);if(e)return e.contexts.find(function(e){return e.element==t})},j.prototype.handleError=function(e,t,n){this.application.handleError(e,t,n)},j.prototype.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)},j.prototype.scopeDisconnected=function(e){this.scopesByIdentifier.delete(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)},j.prototype.connectModule=function(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(function(e){return t.connectContextForScope(e)})},j.prototype.disconnectModule=function(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(function(e){return t.disconnectContextForScope(e)})};var Y=j;function j(e){this.application=e,this.scopeObserver=new X(this.element,this.schema,this),this.scopesByIdentifier=new p,this.modulesByIdentifier=new Map}var B={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},Z=function(i,s,a,c){return new(a=a||Promise)(function(e,t){function n(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(n,o)}r((c=c.apply(i,s||[])).next())})},ee=function(o,r){var i,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,s&&(a=s[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[0,a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=r.call(o,c)}catch(e){t=[6,e],s=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},te=(I.start=function(e,t){e=new I(e,t);return e.start(),e},I.prototype.start=function(){return Z(this,void 0,void 0,function(){return ee(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()})];case 1:return e.sent(),this.router.start(),this.dispatcher.start(),[2]}})})},I.prototype.stop=function(){this.router.stop(),this.dispatcher.stop()},I.prototype.register=function(e,t){this.load({identifier:e,controllerConstructor:t})},I.prototype.load=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(Array.isArray(e)?e:[e].concat(n)).forEach(function(e){return t.router.loadDefinition(e)})},I.prototype.unload=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(Array.isArray(e)?e:[e].concat(n)).forEach(function(e){return t.router.unloadIdentifier(e)})},Object.defineProperty(I.prototype,"controllers",{get:function(){return this.router.contexts.map(function(e){return e.controller})},enumerable:!0,configurable:!0}),I.prototype.getControllerForElementAndIdentifier=function(e,t){e=this.router.getContextForElementAndIdentifier(e,t);return e?e.controller:null},I.prototype.handleError=function(e,t,n){console.error("%s\n\n%o\n\n%o",t,e,n)},I);function I(e,t){void 0===e&&(e=document.documentElement),void 0===t&&(t=B),this.element=e,this.schema=t,this.dispatcher=new o(this),this.router=new Y(this)}function ne(e){var i=e.prototype;(function(e){e=function(e){var t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t}(e);return Array.from(e.reduce(function(t,e){return function(e){e=e.targets;return Array.isArray(e)?e:[]}(e).forEach(function(e){return t.add(e)}),t},new Set))})(e).forEach(function(t){var e,n,o,r;n=i,(e={})[t+"Target"]={get:function(){var e=this.targets.find(t);if(e)return e;throw new Error('Missing target element "'+this.identifier+"."+t+'"')}},e[t+"Targets"]={get:function(){return this.targets.findAll(t)}},e["has"+((r=t).charAt(0).toUpperCase()+r.slice(1))+"Target"]={get:function(){return this.targets.has(t)}},o=e,Object.keys(o).forEach(function(e){var t;e in n||(t=o[e],Object.defineProperty(n,e,t))})})}P.bless=function(){ne(this)},Object.defineProperty(P.prototype,"application",{get:function(){return this.context.application},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"data",{get:function(){return this.scope.data},enumerable:!0,configurable:!0}),P.prototype.initialize=function(){},P.prototype.connect=function(){},P.prototype.disconnect=function(){},P.targets=[];var oe=P;function P(e){this.context=e}e.Application=te,e.Context=E,e.Controller=oe,e.defaultSchema=B,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((void 0).Stimulus={})},{}],17:[function(e,t,n){"use strict";function o(){}Object.defineProperty(n,"__esModule",{value:!0}),o.encodeTags=function(e){return(null===e||"boolean"==typeof e?"":e+"").replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;").replace(/`/gm,"&#96;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/[<]+\/?([^>]+)[>]+/gm,"&lt;$1&gt;")},o.splitLine=function(e){return e.split(/\r?\n/gm)},n.default=o},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadCSS=function(e,t,n,o){let r=window.document.createElement("link"),i=t||window.document.getElementsByTagName("script")[0],s=window.document.styleSheets;r.rel="stylesheet",r.href=e,r.media="only x",o&&(r.onload=o);return i.parentNode.insertBefore(r,i),r.onloadcssdefined=function(e){let t;for(let e=0;e<s.length;e++)s[e].href&&s[e].href===r.href&&(t=!0);t?e():setTimeout(function(){r.onloadcssdefined(e)})},r.onloadcssdefined(function(){r.media=n||"all"}),r},n.loadJS=function(e,t){var n=window.document.getElementsByTagName("script")[0],o=window.document.createElement("script");o.src=e,o.async=!0,n.parentNode.insertBefore(o,n),t&&"function"==typeof t&&(o.onload=t);return o}},{}],19:[function(e,t,n){"use strict";var r,i=e("dompurify");(r=jQuery)("body").on("click",'[data-toggle="modal-tertiary"]',function(){var e=r(this);const t={action:e.data("tertiaryAction"),payload:e.data("tertiaryPayload"),modalTarget:e.data("target")},n=r(t.modalTarget),o=document.querySelector(t.modalTarget+" .modal-body");r.get("/tertiary",t).done(function(e){o.innerHTML=(0,i.sanitize)(e),n.modal("show")}).fail(function(e){window.Dicoding.Logger.error(`[${e.status}] `+e.responseText,t)})}).on("click",'[data-dismiss="modal"]',function(e){r(e.modalTarget).modal("hide")})},{dompurify:1}],20:[function(e,t,n){"use strict";var o=e("../helpers/loaders"),r=e("dompurify");function i(t){return new Promise(function(e){(0,o.loadJS)(t,e)})}function s(){var e;return window.Promise||(e=function(){s()},(0,o.loadJS)("https://www.promisejs.org/polyfills/promise-6.1.0.js",function(){e()})),(0,o.loadCSS)("/ui/froala290/css/froala_editor.min.css"),(0,o.loadCSS)("/ui/froala290/css/froala_style.min.css"),(0,o.loadCSS)("/ui/froala290/css/plugins/image.min.css"),i("/ui/froala290/js/froala_editor.min.js").then(()=>i("/ui/froala290/js/plugins/image.min.js")).then(()=>i("/ui/froala290/js/plugins/link.min.js")).then(()=>i("/ui/froala290/js/plugins/lists.min.js"))}$(function(){window.dicoding=window.dicoding||{},window.dicoding.initSimplifiedFroala=function(o){function t(e,t,n,o){o&&(o=JSON.parse(o)).message&&alert(o.message),5===n.code&&t.popups.get("image.insert").find(".fr-image-progress-bar-layer").find("h3").text("Ukuran gambar terlalu besar, Ukuran maksimal yang diizinkan adalah 10485760 MB")}function n(e,t){var n=o.data("contentPreview");n&&$("#"+n).html(t.html.get())}s().then(()=>{$.FroalaEditor.DEFAULTS.key="5E5A5E4G5D4E3cA5A4D4E3E4B2D2E3C1C6vDIG1QCYRWa1GPId1f1I1==",$.FroalaEditor.DefineIcon("codeIcon",{NAME:"code"}),$.FroalaEditor.RegisterCommand("insertCodeBlock",{title:"Insert code block",icon:"codeIcon",undo:!0,focus:!1,showOnMobile:!0,callback:function(){var e=this.html.getSelected().replace(/<p>/g,"").replace(/(<\/p>)|(<br ?\/?>)/gim,"\n").trim(),e=(0,r.sanitize)(e,{ALLOWED_TAGS:["pre","code"]});this.html.insert(`<pre><code>${e}</code></pre>`),this.events.focus()},refresh:function(e){e.toggleClass("fr-active",this.format.is("pre")).attr("aria-pressed",this.format.is("pre"))}});var e=["bold","italic","underline","|","insertLink","insertImage","insertCodeBlock"];$("textarea[data-show-lists]").length&&e.push("|","formatOL","formatUL"),o.froalaEditor({tabSpaces:4,imageUploadParam:"image",imageUploadParams:{type:o.data("imageType")},imageUploadURL:"/dicodingassets/image",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif"],imageDefaultAlign:"left",imageDefaultWidth:0,videoUpload:!1,heightMax:400,iconsTemplate:"font_awesome_5",placeholderText:o.data("placeholder"),linkAlwaysBlank:!0,linkList:[],linkInsertButtons:[],toolbarButtons:e}).on("froalaEditor.image.error",t).on("froalaEditor.contentChanged",n)})};var e=$("textarea[data-rich-editor]");e.length&&window.dicoding.initSimplifiedFroala(e)})},{"../helpers/loaders":18,dompurify:1}],21:[function(e,t,n){"use strict";var o=e("../commons/scripts/helpers/loaders");$(function(){function t(){$("#source-information-message").text("Anda belum memilih referensi"),$(".select2-container--bootstrap4 .select2-selection").css("border-color","#F43F5E")}(0,o.loadJS)("https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js",()=>{(0,o.loadCSS)("https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"),$('select[name="dicoding_information_source"]').select2({theme:"bootstrap4",placeholder:"Silakan pilih referensi"})}),$('button[type="submit"]').on("click",function(e){""==$('select[name="dicoding_information_source"]').val()&&(e.preventDefault(),t())}),$('select[name="dicoding_information_source"]').on("change",function(){""==$(this).val()?t():($("#source-information-message").text(""),$(".select2-container--bootstrap4 .select2-selection").css("border-color","#d4d4d8"))})})},{"../commons/scripts/helpers/loaders":18}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=class{constructor(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"user",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this._webcamElement=e,this._webcamElement.width=this._webcamElement.width||640,this._webcamElement.height=this._webcamElement.height||.75*this._webcamElement.width,this._facingMode=t,this._webcamList=[],this._streamList=[],this._selectedDeviceId="",this._canvasElement=n,this._snapSoundElement=o}get facingMode(){return this._facingMode}set facingMode(e){this._facingMode=e}get webcamList(){return this._webcamList}get webcamCount(){return this._webcamList.length}get selectedDeviceId(){return this._selectedDeviceId}getVideoInputs(e){return this._webcamList=[],e.forEach(e=>{"videoinput"===e.kind&&this._webcamList.push(e)}),1==this._webcamList.length&&(this._facingMode="user"),this._webcamList}getMediaConstraints(){var e={},e=(""==this._selectedDeviceId?e.facingMode=this._facingMode:e.deviceId={exact:this._selectedDeviceId},{video:e,audio:!1});return e}selectCamera(){for(const e of this._webcamList)if("user"==this._facingMode&&e.label.toLowerCase().includes("front")||"enviroment"==this._facingMode&&e.label.toLowerCase().includes("back")){this._selectedDeviceId=e.deviceId;break}}flip(){this._facingMode="user"==this._facingMode?"enviroment":"user",this._webcamElement.style.transform="",this.selectCamera()}async start(){let o=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return new Promise((t,n)=>{this.stop(),navigator.mediaDevices.getUserMedia(this.getMediaConstraints()).then(e=>{this._streamList.push(e),this.info().then(e=>{this.selectCamera(),o?this.stream().then(e=>{t(this._facingMode)}).catch(e=>{n(e)}):t(this._selectedDeviceId)}).catch(e=>{n(e)})}).catch(e=>{n(e)})})}async info(){return new Promise((t,n)=>{navigator.mediaDevices.enumerateDevices().then(e=>{this.getVideoInputs(e),t(this._webcamList)}).catch(e=>{n(e)})})}async stream(){return new Promise((t,n)=>{navigator.mediaDevices.getUserMedia(this.getMediaConstraints()).then(e=>{this._streamList.push(e),this._webcamElement.srcObject=e,"user"==this._facingMode&&(this._webcamElement.style.transform="scale(-1,1)"),this._webcamElement.play(),t(this._facingMode)}).catch(e=>{console.log(e),n(e)})})}stop(){this._streamList.forEach(e=>{e.getTracks().forEach(e=>{e.stop()})})}snap(){var e;if(null!=this._canvasElement)return null!=this._snapSoundElement&&this._snapSoundElement.play(),this._canvasElement.height=this._webcamElement.scrollHeight,this._canvasElement.width=this._webcamElement.scrollWidth,e=this._canvasElement.getContext("2d"),"user"==this._facingMode&&(e.translate(this._canvasElement.width,0),e.scale(-1,1)),e.clearRect(0,0,this._canvasElement.width,this._canvasElement.height),e.drawImage(this._webcamElement,0,0,this._canvasElement.width,this._canvasElement.height),this._canvasElement.toDataURL("image/png");throw"canvas element is missing"}}},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!(i<=0)){const r=setInterval(()=>{{--i;var t=Math.floor(i/3600),n=Math.floor(i%3600/60),o=Math.floor(i%3600%60);let e="";0<t&&(e+=t+"h:"),0<n&&(e+=("0"+n).slice(-2)+"m:"),0<=o&&(e+=("0"+o).slice(-2)+"s"),(t=document.querySelector('[data-target="#exam-waiting-time"]'))&&(t.innerHTML=e),i<=0&&(clearInterval(r),window.location.reload())}},1e3)}};let i=window.freezeTime},{}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;class o extends e("stimulus").Controller{static get targets(){return["choiceToggle"]}connect(){var e=Array.from(this.choiceToggleTargets).find(e=>e.checked);null!=e&&this.__selectedChoice(e)}onAnswerClick(e){let t=e.target.dataset.answerId;void 0===t&&(t=e.target.parentElement.dataset.answerId);e=document.querySelector("#answer-"+t);null!=e&&(e.checked=!0,this.onChangeChoice())}onChangeChoice(){this.choiceToggleTargets.forEach(e=>{e.checked?this.__selectedChoice(e):this.__unselectedChoice(e)})}__selectedChoice(e){e.parentElement.nextElementSibling.classList.add("selected"),e.parentElement.classList.remove("dcd-btn-secondary"),e.parentElement.classList.remove("bg-white"),e.parentElement.classList.add("dcd-btn-primary")}__unselectedChoice(e){e.parentElement.nextElementSibling.classList.remove("selected"),e.parentElement.classList.remove("dcd-btn-primary"),e.parentElement.classList.add("dcd-btn-secondary"),e.parentElement.classList.add("bg-white")}}n.default=o},{stimulus:16}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;class o extends e("stimulus").Controller{static get targets(){return["continueBtn","checkBoxList"]}activateContinueBtn(e){Array.from(this.checkBoxListTargets).filter(e=>e.checked).length===this.checkBoxListTargets.length?this.continueBtnTarget.classList.remove("disabled"):this.continueBtnTarget.classList.add("disabled")}}n.default=o},{stimulus:16}],26:[function(e,t,n){"use strict";var o=e("stimulus"),r=w(e("./widgets/moduleSearchController")),i=w(e("./widgets/DibantuController")),s=(e("../onboardinguserinterest/script"),e("../commons/scripts/widgets/simplifiedFroala"),e("./widgets/helpOverlay"),e("./widgets/keyboardShortcut"),e("./widgets/classroomToggle"),e("./widgets/featureActivation"),e("./widgets/moduleReport"),e("./scripts/module-feedback"),e("./scripts/trackAdaptiveReading"),w(e("./scripts/checkUserTheme"))),a=w(e("./scripts/checkUserFont")),c=w(e("./scripts/checkUserFontSize")),l=w(e("./scripts/checkUserLayoutWidth")),u=w(e("./scripts/watchContentProgress")),d=v(e("./widgets/needAuth")),h=(e("./widgets/moduleNavigationController"),w(e("./widgets/ToolsNavigationControllerV3-0"))),m=(e("../commons/scripts/widgets/ModalWithTertiaryRequest"),v(e("./parts/examPage"))),p=w(e("./parts/submission/selfReviewController")),f=w(e("./parts/multipleChoiceController")),g=w(e("../v3common/scripts/widgets/TabsController")),y=w(e("./widgets/ClassroomOnboardingController")),e=(e("./scripts/checkUserWebcam"),w(e("./widgets/FeatureOnboardingController")));function b(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(b=function(e){return e?n:t})(e))}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=b(t);if(t&&t.has(e))return t.get(e);var n,o,r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]);return r.default=e,t&&t.set(e,r),r}function w(e){return e&&e.__esModule?e:{default:e}}function k(){$("#congratulationModal").modal("show")}window.isExam?window.addEventListener("DOMContentLoaded",()=>{m.default(),window.recentlyFinishedExamRegistrationId&&document.getElementById("button-view-exam-result-"+window.recentlyFinishedExamRegistrationId)?.click(),document.getElementById("close-exam-result")?.addEventListener("click",function(){k()})}):k();o=o.Application.start();o.register("newModuleSearch",r.default),o.register("selfReview",p.default),o.register("multipleChoiceController",f.default),o.register("dibantu",i.default),o.register("toolsNavigationControllerV3-0",h.default),o.register("tabsController",g.default),o.register("classroom-tour",y.default),o.register("featureOnboarding",e.default),d.default(),document.addEventListener("DOMContentLoaded",()=>{(0,u.default)(),(0,s.default)(),(0,a.default)(),(0,c.default)(),(0,l.default)(),document.body.style.visibility="visible",document.body.style.opacity=1})},{"../commons/scripts/widgets/ModalWithTertiaryRequest":19,"../commons/scripts/widgets/simplifiedFroala":20,"../onboardinguserinterest/script":21,"../v3common/scripts/widgets/TabsController":52,"./parts/examPage":23,"./parts/multipleChoiceController":24,"./parts/submission/selfReviewController":25,"./scripts/checkUserFont":27,"./scripts/checkUserFontSize":28,"./scripts/checkUserLayoutWidth":29,"./scripts/checkUserTheme":30,"./scripts/checkUserWebcam":31,"./scripts/module-feedback":33,"./scripts/trackAdaptiveReading":34,"./scripts/watchContentProgress":35,"./widgets/ClassroomOnboardingController":36,"./widgets/DibantuController":38,"./widgets/FeatureOnboardingController":39,"./widgets/ToolsNavigationControllerV3-0":40,"./widgets/classroomToggle":41,"./widgets/featureActivation":42,"./widgets/helpOverlay":43,"./widgets/keyboardShortcut":44,"./widgets/moduleNavigationController":46,"./widgets/moduleReport":47,"./widgets/moduleSearchController":48,"./widgets/needAuth":49,stimulus:16}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=document.getElementById("default-font-button"),t=document.getElementById("serif-font-button"),n=document.getElementById("dyslexic-font-button"),o=document.querySelectorAll(".academy-tutorial-content");n.addEventListener("click",()=>{localStorage.setItem("font-style","dyslexic"),e.setAttribute("data-option-active","false"),t.setAttribute("data-option-active","false"),n.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("academy-tutorial-content--serif"),e.classList.add("academy-tutorial-content--dyslexic")})}),e.addEventListener("click",()=>{localStorage.setItem("font-style","default"),n.setAttribute("data-option-active","false"),t.setAttribute("data-option-active","false"),e.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("academy-tutorial-content--serif"),e.classList.remove("academy-tutorial-content--dyslexic")})}),t.addEventListener("click",()=>{localStorage.setItem("font-style","serif"),t.setAttribute("data-option-active","true"),e.setAttribute("data-option-active","false"),n.setAttribute("data-option-active","false"),o&&o.forEach(e=>{e.classList.remove("academy-tutorial-content--dyslexic"),e.classList.add("academy-tutorial-content--serif")})})}},{}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=document.getElementById("regular-size-button"),t=document.getElementById("large-size-button"),n=document.getElementById("small-size-button"),o=document.querySelectorAll(".academy-tutorial-content"),r=(n.addEventListener("click",()=>{localStorage.setItem("font-size","small"),e.setAttribute("data-option-active","false"),t.setAttribute("data-option-active","false"),n.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("academy-tutorial-content--large"),e.classList.add("academy-tutorial-content--small")})}),e.addEventListener("click",()=>{localStorage.setItem("font-size","regular"),n.setAttribute("data-option-active","false"),t.setAttribute("data-option-active","false"),e.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("academy-tutorial-content--large"),e.classList.remove("academy-tutorial-content--small")})}),t.addEventListener("click",()=>{localStorage.setItem("font-size","large"),t.setAttribute("data-option-active","true"),n.setAttribute("data-option-active","false"),e.setAttribute("data-option-active","false"),o&&o.forEach(e=>{e.classList.remove("academy-tutorial-content--small"),e.classList.add("academy-tutorial-content--large")})}),localStorage.getItem("font-size")||window.savedFontSize);"large"===r?(e.removeAttribute("data-option-active"),n.removeAttribute("data-option-active"),t.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("academy-tutorial-content--small"),e.classList.add("academy-tutorial-content--large")})):"small"===r?(e.removeAttribute("data-option-active"),t.removeAttribute("data-option-active"),n.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("academy-tutorial-content--large"),e.classList.add("academy-tutorial-content--small")})):(t.removeAttribute("data-option-active"),n.removeAttribute("data-option-active"),e.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("academy-tutorial-content--large"),e.classList.remove("academy-tutorial-content--small")}))}},{}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=document.getElementById("full-width-button"),t=document.getElementById("medium-width-button"),n=document.querySelectorAll(".classroom-container__content"),o=document.querySelectorAll(".setting__item[data-option='layout-width']"),r=document.getElementById("tutorial-content"),i=(t.addEventListener("click",()=>{localStorage.setItem("layout-width","medium-width"),e.setAttribute("data-option-active","false"),t.setAttribute("data-option-active","true"),n&&n.forEach(e=>{e.classList.add("classroom-container__content-medium-width")})}),e.addEventListener("click",()=>{localStorage.setItem("layout-width","full-width"),t.setAttribute("data-option-active","false"),e.setAttribute("data-option-active","true"),n&&n.forEach(e=>{e.classList.remove("classroom-container__content-medium-width")})}),localStorage.getItem("layout-width")||window.savedLayoutWidth);"medium-width"===i?(e.removeAttribute("data-option-active"),t.setAttribute("data-option-active","true"),n&&n.forEach(e=>{e.classList.add("classroom-container__content-medium-width")})):(t.removeAttribute("data-option-active"),e.setAttribute("data-option-active","true"),n&&n.forEach(e=>{e.classList.remove("classroom-container__content-medium-width")}));o.forEach(e=>{e.addEventListener("click",function(){var e;"true"===localStorage.getItem("moduleListOpen")?"full-width-button"===this.id?(e=window.innerWidth-350-900,r.style.marginLeft=`${e<=30?30:e-(e-e/2-10)}px`):(e=window.innerWidth-350-700,r.style.marginLeft=`${e<=30?30:e-(e-e/2-10)}px`):r.style.marginLeft="auto"})})}},{}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=document.getElementById("dark-mode-button"),t=document.getElementById("light-mode-button"),n=document.getElementById("warm-mode-button"),o=document.querySelectorAll(".js-content-prettify");e.addEventListener("click",()=>{document.body.classList.contains("warm")&&document.body.classList.remove("warm"),document.body.classList.add("dark"),localStorage.setItem("theme","dark"),t.setAttribute("data-option-active","false"),n.setAttribute("data-option-active","false"),e.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("content--prettify-light"),e.classList.add("content--prettify-dark")})}),t.addEventListener("click",()=>{document.body.classList.contains("warm")&&document.body.classList.remove("warm"),document.body.classList.contains("dark")&&document.body.classList.remove("dark"),localStorage.setItem("theme","light"),e.setAttribute("data-option-active","false"),n.setAttribute("data-option-active","false"),t.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("content--prettify-dark"),e.classList.add("content--prettify-light")})}),n.addEventListener("click",()=>{document.body.classList.contains("dark")&&(document.body.classList.remove("dark"),e.setAttribute("data-option-active","false")),document.body.classList.remove("dark"),document.body.classList.add("warm"),localStorage.setItem("theme","warm"),n.setAttribute("data-option-active","true"),t.setAttribute("data-option-active","false"),e.setAttribute("data-option-active","false"),o&&o.forEach(e=>{e.classList.remove("content--prettify-dark"),e.classList.add("content--prettify-light")})}),null!==localStorage.getItem("userTheme")&&(localStorage.setItem("theme",localStorage.getItem("userTheme")),localStorage.removeItem("userTheme"));var r=localStorage.getItem("theme")||window.savedTheme;["light","warm","dark"].includes(r)&&document.body.classList.add(r||"light");"dark"===r?(t.removeAttribute("data-option-active"),n.removeAttribute("data-option-active"),e.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("content--prettify-light"),e.classList.add("content--prettify-dark")})):"warm"===r?(t.removeAttribute("data-option-active"),e.removeAttribute("data-option-active"),n.setAttribute("data-option-active","true")):(e.removeAttribute("data-option-active"),n.removeAttribute("data-option-active"),t.setAttribute("data-option-active","true"),o&&o.forEach(e=>{e.classList.remove("content--prettify-dark"),e.classList.add("content--prettify-light")}))}},{}],31:[function(e,t,n){"use strict";e=(e=e("../../v3-tutorial-exam/scripts/webcam"))&&e.__esModule?e:{default:e};{const r=document.getElementById("button-start-exam");if(3===window.courseType&&!0===window.isExam){var o=document.getElementById("info-start-exam"),o=(o&&(o.style.display="block"),document.getElementById("webcam"));const i=new e.default(o,"user");i.start().then(e=>{i.stop(),r&&(r.style.display="block")}).catch(e=>{window.Dicoding.Logger.error(e),r&&(r.style.display="none")})}else r&&(r.style.display="block")}},{"../../v3-tutorial-exam/scripts/webcam":22}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isAppleDevice=function(){return/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},n.isMiniScreen=function(){return window.matchMedia("only screen and (max-width: 991px)").matches}},{}],33:[function(e,t,n){"use strict";function o(){$(".module-feedback__group").removeClass("hidden"),$(".module-feedback__submit-btn").prop("disabled",!1)}var r;$(".satisfaction-btn").on("click",function(){o()}),(r=$('input[name="is_satisfied"]')).is(":checked")&&o(),r.on("change",function(){o();var e=$('textarea[name="comment"]');0==$('input[name="is_satisfied"]:checked').val()?(e.attr("required",!0),e.attr("placeholder","Tolong ceritakan hal apa yang membuat Anda tidak puas.")):(e.attr("required",!1),e.attr("placeholder","Apakah ada hal lain yang ingin Anda sampaikan?"))});{const i=$(".chip-ids-checkbox");$("#module-feedback-create").on("submit",function(e){i.is(":checked")||(e.preventDefault(),$(".show-chip-required").removeClass("d-none"))}),i.on("change",function(){i.is(":checked")&&($(".module-feedback__submit-btn").prop("disabled",!1),$(".show-chip-required").addClass("d-none"))})}{const s=$("#module-feedback-create");s.on("submit",function(e){e.preventDefault(),$.ajax({url:s.attr("action"),type:s.attr("method"),data:s.serialize()}).done(()=>{$(".module-feedback-success-message").modal("show"),$(".module-feedback").addClass("d-none")}).fail(e=>{var t=$(".module-feedback-warning-message"),e=e.responseJSON.message;t.find("p").text(e),t.modal("show"),t.on("hidden.bs.modal",function(){s.find("button").removeAttr("disabled")})})})}},{}],34:[function(e,t,n){"use strict";var r=i(e("lodash/debounce")),o=i(e("../../commons/scripts/helpers/Str"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n;window._authed&&(n=o.default.encodeTags(window.location.origin)+"/academies/adaptive-reading-histories/store",$.post({url:n,data:{_token:window._token,option:e,value:t}}).fail(e=>{window.Dicoding.Logger.error(e)}))}document.addEventListener("DOMContentLoaded",()=>{var e={theme:{value:localStorage.getItem("theme"),windowKey:"savedTheme"},"font-style":{value:localStorage.getItem("font-style"),windowKey:"savedFontStyle"},"font-size":{value:localStorage.getItem("font-size"),windowKey:"savedFontSize"},"layout-width":{value:localStorage.getItem("layout-width"),windowKey:"savedLayoutWidth"}};for(const o in e){var t=e[o],n=window[t.windowKey];!function(e){$(`.setting__content button[data-option=${e}]`).on("click",(0,r.default)(function(){s(e,localStorage.getItem(e))},2e3))}(o),t.value&&n!==t.value&&s(o,t.value)}})},{"../../commons/scripts/helpers/Str":17,"lodash/debounce":10}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=document.getElementById("module-content-progress"),t=document.querySelector(".classroom-container");if(e&&t){const n=e.children[1];t.addEventListener("scroll",function(){var e=t.scrollHeight-t.clientHeight,e=t.scrollTop/e;n.setAttribute("stroke-dasharray",e+"px 1px")})}}},{}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("stimulus"),c=e("../../commons/scripts/helpers/loaders"),i=(o=e("../../commons/scripts/helpers/Str"))&&o.__esModule?o:{default:o},l=e("../scripts/helpers");class s extends r.Controller{connect(){this.uiTourElements=this.__getUITourElementsLibrary(),null!==document.querySelector(".js-alert-dialog")?document.querySelectorAll('.js-alert-dialog [data-dismiss="modal"]').forEach(e=>e.addEventListener("click",this.__openWelcomingScreenIfPossible)):this.__openWelcomingScreenIfPossible()}runTour(){(0,c.loadJS)("https://cdn.jsdelivr.net/npm/shepherd.js@8.3.1/dist/js/shepherd.min.js",()=>{(0,c.loadCSS)("https://cdn.jsdelivr.net/npm/shepherd.js@8.3.1/dist/css/shepherd.css");const o=new Shepherd.Tour({useModalOverlay:!0,defaultStepOptions:{classes:"classroom-ui-tour-v3-0",scrollTo:{behavior:"smooth",block:"center"}}});var e=(0,l.isAppleDevice)()?"⌘":"CTRL";function t(){(0,l.isMiniScreen)()&&$("#tools-btn__mobile").click()}function n(){var e=o.currentStep.el,t=e.querySelector(".shepherd-footer"),n=document.createElement("div");n.classList.add("classroom-ui-tour-v3-0__step-count"),n.innerText=o.steps.indexOf(o.currentStep)+1+"/"+o.steps.length,e.querySelector(".classroom-ui-tour-v3-0__icon-next")?t.insertBefore(n,e.querySelector(".classroom-ui-tour-v3-0__icon-next")):t.insertBefore(n,e.querySelector(".classroom-ui-tour-v3-0__button"))}((0,l.isMiniScreen)()?$("#tools-mobile-close-btn"):$("#module-btn-show")).click();var r={text:"Lewati",classes:"classroom-ui-tour-v3-0__button",action:o.complete},i={text:"",classes:"classroom-ui-tour-v3-0__icon-back",action:o.back},s={text:"",classes:"classroom-ui-tour-v3-0__icon-next",action:o.next},a={text:"Selesai",classes:"classroom-ui-tour-v3-0__button",action:o.complete},e=[{id:"corridor-step",text:'<p class="font-weight-600">Koridor Kelas</p><span>Lihat progress belajarmu di koridor kelas.</span>',attachTo:{element:".cta-to-corridor",on:"bottom"},when:{show(){n()}},buttons:[r,s],position:1},{id:"module-search-step",text:'<p class="font-weight-600">Pencarian Modul</p>'+((0,l.isMiniScreen)()?"<span>Tekan untuk cari konten dari sebuah modul.</span>":`Tekan <kbd class="mr-1">${e}</kbd><kbd>/</kbd> untuk mencari konten dari sebuah modul.`),attachTo:{element:"#module-search-btn",on:"bottom"},when:{show(){n()}},buttons:[r,i,s],position:2},{id:"module-list-step",text:'<p class="font-weight-600">Daftar Modul</p>'+((0,l.isMiniScreen)()?"<span>Tekan untuk membuka daftar modul.</span>":`Tekan <kbd class="mr-1">${e}</kbd><kbd>M</kbd> untuk membuka daftar modul dengan cepat`),attachTo:{element:this.uiTourElements.moduleListBtn.selector,on:this.uiTourElements.moduleListBtn.position},when:{show(){n()}},buttons:[r,i,s],position:4},{id:"modul-nav-step",text:'<p class="font-weight-600">Navigasi Modul</p>'+((0,l.isMiniScreen)()?"<span>Tekan untuk berpindah modul.</span>":`Tekan <kbd class="mr-1">${e}</kbd>
            <kbd><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"  xmlns="http://www.w3.org/2000/svg">
                <path d="M5.52851 4.86128C5.78886 4.60093 6.21097 4.60093 6.47132 4.86128C6.73167 5.12163 6.73167 5.54374 6.47132 5.80409L4.94273 7.33268H12.6666C13.0348 7.33268 13.3333 7.63116 13.3333 7.99935C13.3333 8.36754 13.0348 8.66602 12.6666 8.66602H4.94273L6.47132 10.1946C6.73167 10.455 6.73167 10.8771 6.47132 11.1374C6.21097 11.3978 5.78886 11.3978 5.52851 11.1374L2.86185 8.47075C2.6015 8.2104 2.6015 7.78829 2.86185 7.52794L5.52851 4.86128Z"/>
            </svg></kbd> atau <kbd class="mr-1">${e}</kbd>
            <kbd><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"  xmlns="http://www.w3.org/2000/svg">
                <path d="M10.4712 4.86128C10.2109 4.60093 9.78878 4.60093 9.52843 4.86128C9.26808 5.12163 9.26808 5.54374 9.52843 5.80409L11.057 7.33268H3.33317C2.96498 7.33268 2.6665 7.63116 2.6665 7.99935C2.6665 8.36754 2.96498 8.66602 3.33317 8.66602H11.057L9.52843 10.1946C9.26808 10.455 9.26808 10.8771 9.52843 11.1374C9.78878 11.3978 10.2109 11.3978 10.4712 11.1374L13.1379 8.47075C13.3983 8.2104 13.3983 7.78829 13.1379 7.52794L10.4712 4.86128Z"/>
            </svg></kbd> pada keyboard untuk berpindah modul.
      `),attachTo:{element:".classroom-bottom-nav",on:"top"},when:{show(){n()}},buttons:[r,i,s],position:5},{id:"read-mode-step",text:'<p class="font-weight-600">Adaptive Reading</p><span>Atur mode baca untuk kenyamanan membaca yang lebih maksimal.</span>',attachTo:{element:this.uiTourElements.readModeBtn.selector,on:this.uiTourElements.readModeBtn.position},when:{show(){t(),n()}},buttons:[r,i,s],position:3},{id:"tools-discussion-step",text:'<p class="font-weight-600">Forum Diskusi</p><span>Merasa bingung saat belajar? Akses forum diskusi untuk bertanya ke teman satu kelas, alumni, atau developer expert lainnya.</span>',attachTo:{element:this.uiTourElements.discussionBtn.selector,on:this.uiTourElements.discussionBtn.position},when:{show(){t(),n()}},buttons:[r,i,s],position:6},{id:"tools-help-step",text:'<p class="font-weight-600">Laporkan Materi</p><span>Menemukan kejanggalan pada materi kelas? Laporkan dan akan segera kami tangani.</span>',attachTo:{element:this.uiTourElements.reportBtn.selector,on:this.uiTourElements.reportBtn.position},when:{show(){t(),n()}},buttons:[r,i,s],position:7},{id:"tools-onboarding-step",text:'<p class="font-weight-600">Onboarding</p><span>Berkenalan lebih dekat dengan Classroom Tools terbaru.</span>',attachTo:{element:this.uiTourElements.onboardingBtn.selector,on:this.uiTourElements.onboardingBtn.position},when:{show(){t(),n()}},buttons:[i,a],position:8}];(0,l.isMiniScreen)()||e.sort((e,t)=>e.position-t.position),o.addSteps(e),o.start()})}__openWelcomingScreenIfPossible(){window.beenShownClassroomOnboarding||!window._authed&&localStorage.getItem("has_been_shown_classroom_onboarding")||$("#classroom-welcoming-modal").modal("show")}setOnboardingStatus(){var e;window._authed&&(e=i.default.encodeTags(window.location.origin)+"/classroom-onboarding",$.post(e,{_token:window._token})),localStorage.setItem("has_been_shown_classroom_onboarding","true")}__getUITourElementsLibrary(){return(0,l.isMiniScreen)()?{onboardingBtn:{selector:"#onboarding-btn__mobile",position:"bottom"},moduleListBtn:{selector:"#module-list-btn__mobile",position:"bottom"},discussionBtn:{selector:"#discussion-btn__mobile",position:"bottom"},readModeBtn:{selector:"#read-mode-btn__mobile",position:"top"},reportBtn:{selector:"#report-module-btn__mobile",position:"bottom"}}:{onboardingBtn:{selector:"#onboarding-btn",position:"right"},moduleListBtn:{selector:"#module-list",position:"left"},discussionBtn:{selector:"#discussion-btn",position:"right"},readModeBtn:{selector:"#read-mode-btn",position:"bottom"},reportBtn:{selector:"#help-btn",position:"right"}}}}n.default=s},{"../../commons/scripts/helpers/Str":17,"../../commons/scripts/helpers/loaders":18,"../scripts/helpers":32,stimulus:16}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("dompurify"),i=(o=e("../../commons/scripts/helpers/Str"))&&o.__esModule?o:{default:o},s=e("../../commons/scripts/helpers/loaders");n.default=class{constructor(e,t,n,o,r,i){this.botId=e,this.botAvatar=t,this.userAvatar=n,this.discussionsUrl=o,this.newDiscussionUrl=r,this.botFeedbackUrl=i,$(document).on("secondary:data:ready",(e,t)=>{this.discussions=t.additional.tutorialDiscussions||[],(0,s.loadJS)("https://cdn.jsdelivr.net/combine/npm/vue@2.6.12,npm/botui@0.3.9,npm/fuse.js@6.0.0",()=>{(0,s.loadCSS)("https://unpkg.com/botui@0.3.9/build/botui.min.css"),this.bot=new BotUI(this.botId,{searchselect:!1}),this.fuse=new Fuse(this.discussions,{includeScore:!0,location:1,useExtendedSearch:!0,keys:["title"]})})})}start(){return this.bot.message.add({loading:!0,delay:1e3,photo:this.botAvatar,content:"Kamu bisa tanya apa aja ke aku tentang permasalahan pada modul ini. Silakan tuliskan kata kuncinya ya."}).then(()=>this.bot.message.add({loading:!0,delay:1e3,photo:this.botAvatar,type:"html",content:"<b>Contohnya:</b> <br> Aplikasi error, Code error, Force close, Web tidak bisa dibuka, dll."})).then(()=>this.askSearchKeyword())}askSearchKeyword(){return this.clearSearchQuery(),this.bot.action.text({cssClass:"form-inline",addMessage:!1,action:{cssClass:"form-control flex-fill mr-2",placeholder:"Ketik pertanyaan kamu...",button:{label:" ",icon:"paper-plane"}}}).then(e=>{e=e.value;return this.searchQuery=(0,r.sanitize)(e),this.bot.message.human({photo:this.userAvatar,content:(0,r.sanitize)(e)})}).then(()=>{var e=this.fuse.search(this.searchQuery);return 0<e.length?this.respondWithDiscussionList(e):this.discussionNotFoundResponse()})}discussionNotFoundResponse(){return this.bot.message.bot({loading:!0,delay:1e3,photo:this.botAvatar,content:"Duh, maaf aku belum menemukan diskusi yang sesuai."}).then(()=>this.askAgainOrCreateNewDiscussion())}respondWithDiscussionList(e){return this.bot.message.bot({loading:!0,delay:1e3,photo:this.botAvatar,content:"Oke, berikut adalah beberapa diskusi yang aku temukan."}).then(()=>Promise.all(e.map(e=>{e=e.item;return this.bot.message.bot({delay:500,photo:this.botAvatar,type:"html",content:`${(0,r.sanitize)(e.title)}<hr class="my-2"><a href="${i.default.encodeTags(e.link)}" target="_blank" class="dcd-link">Lihat diskusi</a>`})}))).then(()=>this.bot.message.bot({loading:!0,delay:1e3,photo:this.botAvatar,content:"Apakah diskusi-diskusi di atas sudah membantu?"})).then(()=>this.bot.action.button({delay:500,addMessage:!1,action:[{text:"Belum",value:"no"},{text:"Sudah",value:"yes"}]})).then(e=>(this.sendFeedback("yes"===e.value),"no"===e.value?this.bot.message.bot({loading:!0,delay:1e3,photo:this.botAvatar,type:"html",content:"Maaf ya jika belum membantu 😔<br> Kamu bisa bertanya lagi dengan kata kunci berbeda atau membuat diskusi baru."}).then(()=>this.askAgainOrCreateNewDiscussion()):"yes"===e.value?this.bot.message.bot({loading:!0,delay:1e3,photo:this.botAvatar,type:"html",content:"Wah senang rasanya bisa membantu 😊<br> Kalau ada kesulitan lain, silakan tanya lagi atau kunjungi forum diskusi."}).then(()=>this.askAgainOrOpenDiscussions()):void 0))}askAgainOrCreateNewDiscussion(){return this.bot.action.button({delay:500,addMessage:!1,action:[{text:"Tanya lagi",value:"ask_again"},{text:"Buat diskusi baru",value:"create_new_discussion"}]}).then(e=>"ask_again"===e.value?this.askSearchKeyword():("create_new_discussion"===e.value&&window.open(i.default.encodeTags(this.newDiscussionUrl),"_blank"),this.askAgain()))}askAgainOrOpenDiscussions(){return this.bot.action.button({delay:500,addMessage:!1,action:[{text:"Tanya lagi",value:"ask_again"},{text:"Lihat forum diskusi",value:"open_discussions"}]}).then(e=>"ask_again"===e.value?this.askSearchKeyword():("open_discussions"===e.value&&window.open(i.default.encodeTags(this.discussionsUrl),"_blank"),this.askAgain()))}askAgain(){return this.bot.action.button({delay:500,addMessage:!1,action:[{text:"Tanya lagi",value:"ask_again"}]}).then(()=>this.askSearchKeyword())}sendFeedback(e){return fetch(this.botFeedbackUrl,{method:"POST",body:new URLSearchParams({is_helping:e?1:-1,query:this.searchQuery,_token:window._token})})}clearSearchQuery(){this.searchQuery=""}}},{"../../commons/scripts/helpers/Str":17,"../../commons/scripts/helpers/loaders":18,dompurify:1}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("stimulus"),r=(e=e("./DibantuBot"))&&e.__esModule?e:{default:e};class i extends o.Controller{static get targets(){return["chatWindow","introContainer","botContainer"]}initialize(){this.bot=new r.default(this.data.get("botId"),this.data.get("botAvatar"),this.data.get("userAvatar"),this.data.get("discussionsUrl"),this.data.get("newDiscussionUrl"),this.data.get("botFeedbackUrl")),window.addEventListener("mouseup",e=>{e.preventDefault(),this.chatWindowTarget===e.target||this.chatWindowTarget.contains(e.target)||this.chatWindowTarget.classList.add("d-none")})}toggleChatWindow(e){e.preventDefault(),this.chatWindowTarget.classList.toggle("d-none")}startBot(e){e.preventDefault(),this.introContainerTarget.style.display="none",this.botContainerTarget.style.display="block",this.bot.start()}}n.default=i},{"./DibantuBot":37,stimulus:16}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("stimulus"),r=e("../../commons/scripts/helpers/loaders"),i=(e=e("../../commons/scripts/helpers/Str"))&&e.__esModule?e:{default:e};class s extends o.Controller{connect(){var e=JSON.parse(this.element.dataset.featureOnboardings);this.currentFeatureOnboarding=e.find(e=>e.feature_name===this.element.getAttribute("id")),this.authedUser=window._authed,(0,r.loadJS)("https://cdn.jsdelivr.net/npm/shepherd.js@8.3.1/dist/js/shepherd.min.js",()=>{(0,r.loadCSS)("https://cdn.jsdelivr.net/npm/shepherd.js@8.3.1/dist/css/shepherd.css"),this.tourManager=new Shepherd.Tour({useModalOverlay:!0,defaultStepOptions:{classes:"classroom-ui-tour-v3-0",scrollTo:{behavior:"smooth",block:"center"}}}),this.observer=new IntersectionObserver(this.intersectionCallback.bind(this),{threshold:1}),this.currentFeatureOnboarding&&this.observer.observe(this.element)})}intersectionCallback(e,t){e.forEach(e=>{e.isIntersecting?(e="#"+e.target.getAttribute("id"),this.tourManager.addSteps([{id:"module-feedback-onboarding",text:'<p class="font-weight-600">Punya feedback untuk modul?</p><span> Kini Anda bisa memberikan feedback untuk membantu tim kami mengembangkan materi pembelajaran dengan lebih baik.</span>',attachTo:{element:e,on:"top"},buttons:[{text:"Mengerti",classes:"classroom-ui-tour-v3-0__button",action:()=>{this.completeOnboarding()}}]}]),this.tourManager.start(),this.onboardingState="started"):this.completeOnboarding()})}completeOnboarding(){var e;"started"===this.onboardingState&&(this.observer.disconnect(),this.authedUser&&(e=i.default.encodeTags(window.location.origin)+"/feature-onboarding/"+i.default.encodeTags(this.currentFeatureOnboarding.id),$.post(e,{_token:window._token})),this.tourManager.complete(),this.onboardingState="completed")}}n.default=s},{"../../commons/scripts/helpers/Str":17,"../../commons/scripts/helpers/loaders":18,stimulus:16}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("stimulus"),i=u(e("./moduleListV3-0")),s=u(e("./searchModuleV3-0")),a=(o=e("./settingController"))&&o.__esModule?o:{default:o},c=e("../scripts/helpers");function l(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(l=function(e){return e?n:t})(e))}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=l(t);if(t&&t.has(e))return t.get(e);var n,o,r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]);return r.default=e,t&&t.set(e,r),r}const d=r.Application.start();class h extends r.Controller{connect(){(0,c.isAppleDevice)()&&document.querySelectorAll("kbd[data-meta-key-modifier]").forEach(e=>{e.innerText="⌘"}),(0,c.isMiniScreen)()&&localStorage.setItem("moduleListOpen","false"),i.checkSavedOpen(),window.addEventListener("keydown",e=>{var t=(0,c.isAppleDevice)()?e.metaKey:e.ctrlKey;!t||"m"!==e.key&&"M"!==e.key||(e.preventDefault(),s.closeOverlay(e),i.openModuleList()),t&&"/"===e.key&&(e.preventDefault(),s.openSearchModule()),"Escape"===e.key&&s.isOpen(this)&&(e.preventDefault(),s.hideSearchModule())}),window.addEventListener("mouseup",e=>{e.preventDefault(),s.overlayBox===e.target&&s.closeOverlay(e)}),s.closeButtons.forEach(e=>{e.addEventListener("click",s.hideSearchModule)}),i.closeButton.addEventListener("click",()=>{i.hideModuleList(!0)}),i.showButton.addEventListener("click",()=>{i.openModuleList(!0)})}onClickModuleListIcon(e){e.preventDefault(),i.isOpen()?i.hideModuleList(!0):i.openModuleList(!0)}onClickSearchIcon(e){e.preventDefault(),s.openSearchModule()}onClickSettingIcon(e){e.preventDefault(),d.register("settings",a.default)}onClickToolsListIcon(e){e.preventDefault(),d.register("tools",class extends r.Controller{static get targets(){return["overlay"]}connect(){this.overlayTarget.classList.contains("show")?this.overlayTarget.classList.remove("show"):this.overlayTarget.classList.add("show"),this.__hideOverlayOnClickOutside()}onClickCloseBtn(e){e.preventDefault(),this.overlayTarget.classList.remove("show")}__hideOverlayOnClickOutside(){window.addEventListener("mouseup",e=>{var t=$("#tools-mobile-menu");t.is(e.target)||0!==t.has(e.target).length||this.overlayTarget.classList.remove("show")})}})}}n.default=h},{"../scripts/helpers":32,"./moduleListV3-0":45,"./searchModuleV3-0":50,"./settingController":51,stimulus:16}],41:[function(e,t,n){"use strict";$("#classroom-toggle").on("change",function(){$(this).is(":checked")?window.location=$(this).data("enabled"):window.location=$(this).data("disabled")})},{}],42:[function(e,t,n){"use strict";$("#appearance-icon").on("click",function(e){e.preventDefault();e=$(".feature-activation");e.hasClass("show")?e.removeClass("show"):e.addClass("show")}),$(window).on("mouseup",e=>{var t=$(".feature-activation");t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("show"),$(".overlay-open").remove(),$("body").css("overflow","unset"))})},{}],43:[function(e,t,n){"use strict";null!==document.getElementById("help-btn")&&(document.getElementById("help-btn").addEventListener("click",function(e){e.preventDefault();e=document.getElementById("help-overlay");e&&(e.classList.contains("show")?e.classList.remove("show"):e.classList.add("show"))}),window.addEventListener("mouseup",e=>{var t=$("#help-overlay");t&&!t.is(e.target)&&0===t.has(e.target).length&&(t.removeClass("show"),$(".overlay-open").remove(),$("body").css("overflow","unset"))}))},{}],44:[function(e,t,n){"use strict";null!==document.getElementById("keyboard-shortcut-btn-open")&&(document.getElementById("keyboard-shortcut-btn-open").addEventListener("click",function(e){e.preventDefault();e=document.getElementById("keyboard-shortcut-overlay");e.classList.contains("show")?(e.classList.remove("show"),e.parentElement.classList.remove("show")):(e.classList.add("show"),e.parentElement.classList.add("show"),$("body").css("overflow","hidden"))}),window.addEventListener("mouseup",e=>{var t=$("#keyboard-shortcut-overlay");t.is(e.target)||0!==t.has(e.target).length||(document.getElementById("keyboard-shortcut-overlay").classList.remove("show"),document.getElementById("keyboard-shortcut-overlay").parentElement.classList.remove("show"),$("body").css("overflow","unset"))}),document.getElementById("keyboard-shortcut-btn-close").addEventListener("click",function(e){e.preventDefault(),document.getElementById("keyboard-shortcut-overlay").classList.remove("show"),document.getElementById("keyboard-shortcut-overlay").parentElement.classList.remove("show"),$("body").css("overflow","unset")}))},{}],45:[function(e,t,n){"use strict";const o=document.getElementById("module-list");var r=document.getElementById("module-btn-close");const i=document.getElementById("module-btn-show"),s=document.getElementById("tutorial-content");function a(){var e=window.innerWidth-350-s.offsetWidth;window.innerWidth-350>s.offsetWidth&&u()?(s.style.marginLeft=`${e<=30?30:e-(e-e/2-10)}px`,s.parentElement.style.width=window.innerWidth-350+"px"):(s.style.marginLeft="auto",s.parentElement.style.width="auto")}function c(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=(i.classList.remove("show"),i.classList.remove("show-instant"),setTimeout(function(){o.style.transform="translateX(0px)",o.style.width=window.innerWidth<=576?"100%":"350px"},300),setTimeout(function(){a()},e?500:0),document.querySelectorAll(".js-current-module"));0<e.length&&e[0].parentElement.classList.add("show"),localStorage.setItem("moduleListOpen","true")}function l(e){window.innerWidth<=576?o.removeAttribute("style"):o.style.transform="translateX(350px)",e&&o.classList.remove("show-instant"),setTimeout(function(){i.classList.add("show"),a()},300),localStorage.setItem("moduleListOpen","false"),s.removeAttribute("style")}function u(){return"true"===localStorage.getItem("moduleListOpen")}window.addEventListener("resize",a),window.openModuleList=c,t.exports={closeButton:r,showButton:i,openModuleList:c,hideModuleList:l,closeOverlay:function(){u()&&l()},isOpen:u,checkSavedOpen:function(){var e=localStorage.getItem("moduleListOpen");("true"===e||null==e?(o.classList.add("show-instant"),c):(i.classList.add("show-instant"),l))()}}},{}],46:[function(e,t,n){"use strict";{var o=jQuery;const r=o("#alert-disallowed-skip-video"),i=o("a.classroom-bottom-nav__next");r.children(o("button.close")).on("click",function(){r.addClass("d-none")}),i.hasClass("disabled")&&i.parent().on("click",function(){r.delay(300).removeClass("d-none")}),window.addEventListener("keydown",e=>{var t=["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase()),n=/(Mac)/.test(navigator.platform)?e.metaKey:e.ctrlKey;if(t)return!1;if(n&&"ArrowLeft"===e.key){e.preventDefault();t=o("a.classroom-bottom-nav__prev").attr("href");if(!t)return!1;window.location.href=t}if(n&&"ArrowRight"===e.key){if(e.preventDefault(),i.hasClass("disabled"))return r.delay(300).removeClass("d-none"),!1;window.location.href=i.attr("href")}})}},{}],47:[function(e,t,n){"use strict";var o=e("dompurify"),e=e("stimulus");e.Application.start().register("module-report-controller",class extends e.Controller{static get targets(){return["label","textAreaField","hintTemplate"]}connect(){this.activeLabel=Array.from(this.labelTargets).find(e=>e.classList.contains("active")),this.activeHintTemplate=Array.from(this.hintTemplateTargets).find(e=>e.id===this.activeLabel.querySelector("input").value+"__hints"),this.textAreaFieldTarget.dataset.placeholder=(0,o.sanitize)(this.activeHintTemplate.content)}onClickLabel(e){this.activeLabel=e.target,this.activeHintTemplate=Array.from(this.hintTemplateTargets).find(e=>e.id===this.activeLabel.querySelector("input").value+"__hints"),$(this.textAreaFieldTarget).data("froala.editor").opts.placeholderText=(0,o.sanitize)(this.activeHintTemplate.content),$(this.textAreaFieldTarget).froalaEditor("placeholder.refresh")}})},{dompurify:1,stimulus:16}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("stimulus"),r=e("dompurify"),i=(e=e("../../commons/scripts/helpers/Str"))&&e.__esModule?e:{default:e};class s extends o.Controller{static get targets(){return["query","suggestion","result","allModules"]}get searchTerm(){return this.queryTarget.value}connect(){this._highlightMatchSearchTerms()}_highlightMatchSearchTerms(){var e=new URLSearchParams(window.location.search);e.has("hl")&&new window.Mark(document.querySelector(".js-content-prettify")).mark(e.get("hl"),{separateWordSearch:!1})}onQueryBlur(){this.searchTerm.length<1&&this._clearSearchResult()}search(e){this.searchTerm.length<1&&this._clearSearchResult(),0<this.searchTerm.length&&this._fetchSearchResult().then(this._renderSearchResult.bind(this))}_fetchSearchResult(){return $.getJSON(window.moduleSearchRoute,{q:this.searchTerm})}_renderSearchResult(e){e.data.result.length<1?this.resultTarget.innerHTML=`<div class="container my-3">Tidak ditemukan modul dengan kata kunci <b>${(0,r.sanitize)(e.data.term)}</b>.</div>`:(e=e.data.result.map(e=>`
            <a href="${i.default.encodeTags(e.url)}" class="search-result-link text-gray-700 remove-style-link">
                <div class="container my-3" href="${i.default.encodeTags(e.url)}">
                    <small class="font-weight-bold text-gray-500">${e.match_count} kecocokan</small><br>
                    <span>${(0,r.sanitize)(e.title)}</span>
                </div>
            </a>
        `),this.resultTarget.innerHTML=`
            <div class="result">
                ${e.join("")}
            </div>
        `)}_clearSearchResult(){this.resultTarget.innerHTML=""}}n.default=s},{"../../commons/scripts/helpers/Str":17,dompurify:1,stimulus:16}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=$(".need-auth"),t=$(".need-auth--login"),n=$(".need-auth--registration");t.hide(),n.hide(),t.hasClass("show")&&(e.removeClass("show").hide(),t.addClass("show").show());n.hasClass("show")&&(e.removeClass("show").hide(),n.addClass("show").show());$(".v3-login-cta").on("click",function(){e.removeClass("show").hide(),t.addClass("show").show()}),$(".v3-registration-cta").on("click",function(){e.removeClass("show").hide(),n.addClass("show").show()})}},{}],50:[function(e,t,n){"use strict";const o=document.getElementById("module-search-container"),r=o.parentElement,i=document.getElementById("module-search-btn");var s=document.querySelectorAll(".module-search__esc-button");function a(){o.classList.remove("show"),i.classList.remove("show"),r.classList.remove("show"),$("body").css("overflow","unset")}function c(e){var t=$("#module-search-container");return t.hasClass("show")&&!t.is(e.target)}t.exports={closeButtons:s,overlayBox:r,closeOverlay:function(e){c(e)&&a()},openSearchModule:function(){o.classList.add("show"),i.classList.add("show"),r.classList.add("show"),$("input.js-module-search__field").trigger("focus").css("box-shadow","none"),$("body").css("overflow","hidden")},hideSearchModule:a,isOpen:c}},{}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;class o extends e("stimulus").Controller{static get targets(){return["overlay"]}connect(){this.overlayTarget.classList.contains("show")?this.overlayTarget.classList.remove("show"):this.overlayTarget.classList.add("show"),this.__hideSettingOverlayOnClickOutside()}onClickCloseBtn(e){e.preventDefault(),this.overlayTarget.classList.remove("show")}__hideSettingOverlayOnClickOutside(){window.addEventListener("mouseup",e=>{var t=$("#setting-overlay");t.is(e.target)||0!==t.has(e.target).length||this.overlayTarget.classList.remove("show")})}}n.default=o},{stimulus:16}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("stimulus"),r=e("dompurify");class i extends o.Controller{static get targets(){return["tabOption"]}connect(){this.currentTarget=this.tabOptionTargets[0],void 0!==this.currentTarget&&(this.currentTarget.parentElement.classList.add("active"),$("#"+(0,r.sanitize)(this.currentTarget.value)).addClass("active"),this.currentTarget.setAttribute("checked","checked"))}onSelectTab(e){this.tabOptionTargets.forEach(e=>{e.checked?(e.parentElement.classList.add("active"),$("#"+(0,r.sanitize)(e.value)).addClass("active"),e.setAttribute("checked","checked")):(e.parentElement.classList.remove("active"),$("#"+(0,r.sanitize)(e.value)).removeClass("active"),e.removeAttribute("checked"))})}}n.default=i},{dompurify:1,stimulus:16}]},{},[26]);